---
# tasks file for docker
- name: Install docker repo
  command: 'dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo'
  become: yes
  become_user: root

- name: Uninstall any podman-docker
  dnf:
    name: docker
    state: absent

- name: Install docker
  dnf:
    name: ['docker-ce', 'docker-ce-cli', 'containerd.io']
    state: latest

- name: Enable and start docker
  systemd:
    name: docker
    state: started
    enabled: yes 